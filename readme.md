The given code went through the following refactors:

1. Removal of Nested Logic
2. Removal of the Usage of Mixed Datatypes
3. Logic Simplification
4. Addition of a simple Test file